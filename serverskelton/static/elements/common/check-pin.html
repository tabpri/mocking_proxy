<link rel="import" href="/static/bower_components/polymer/polymer.html">
<link rel="import" href="/static/bower_components/iron-flex-layout/iron-flex-layout.html">

<link rel="import" href="/static/elements/common/ajax-img.html">

<link rel="import" href="/static/elements/base-styles.html">
<dom-module id="check-pin">
<template>
    <style include="base-styles"></style>
    <style>
        :host {
            display: inline-block;
            position: relative;
            height: 100%;
            width: 100%;
        }

        label {
            @apply(--layout-fit);
        }

        .checkbox {
            @apply(--layout-fit);
            height: 100%;
            width: 100%;
        }

        :host([checked]) .checkbox.off {
            display: none;
        }

        :host(:not([checked])) .checkbox.on {
            display: none;
        }
        
        .checkbox.on {
            color: yellow;
        }
        
    </style>
    
    <label>
        <input type="checkbox" checked="{{checked::change}}" on-change="_change" hidden>
        <ajax-img class="checkbox on" src="/static/img/icn-code_pin.svg"></ajax-img>
        <ajax-img class="checkbox off" src="/static/img/icn-code_pin.svg"></ajax-img>
    </label>
</template>

<script>
(function() {

    Polymer({
        is: 'check-pin',

        properties: {
            checked: {
                type: Boolean,
                notify: true,
                reflectToAttribute: true
            }
        },

        _change: function() {
            this.fire('change', {}, {bubbles: false, cancelable:false});
        }
    });

}());
</script>

</dom-module>